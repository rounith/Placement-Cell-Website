<!DOCTYPE html>
<html>
<head>
  <title>Registration Form</title>
  <!-- Include Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    body {
      background-color: #f8f9fa;
    }

    .container {
      max-width: 500px;
      margin-top: 50px;
    }

    .form-control:focus {
      box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
    }

    .btn-primary {
      background-color: #007bff;
      border-color: #007bff;
    }

    .btn-primary:hover {
      background-color: #0069d9;
      border-color: #0062cc;
    }

    .alert {
      margin-top: 20px;
      display: none;
    }

    .creative-heading {
      font-family: 'Pacifico', cursive;
      font-size: 2.5rem;
      text-align: center;
      color: #007bff;
      margin-bottom: 1.5rem;
    }

    .btn-register {
      background-color: #28a745;
      border-color: #28a745;
    }

    .btn-register:hover {
      background-color: #218838;
      border-color: #1e7e34;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <h1 class="creative-heading">Welcome to Our Registration</h1>

    <div id="message" class="alert"></div>

    <form id="registrationForm">
      <div class="mb-3">
        <label for="name" class="form-label">Name:</label>
        <input type="text" id="name" class="form-control" required>
      </div>

      <div class="mb-3">
        <label for="email" class="form-label">Email:</label>
        <input type="email" id="email" class="form-control" required>
      </div>

      <div class="mb-3">
        <label for="password" class="form-label">Password:</label>
        <input type="password" id="password" class="form-control" required>
      </div>

      <button
        type="button"
        onclick="save()"
        class="btn btn-register btn-block"
      >
        Register
      </button>
    </form>
  </div>

  <!-- Include the Firebase JavaScript SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-firestore.js"></script>

  <!-- Include Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // Initialize Firebase with your project's configuration
    const firebaseConfig = {
      // Replace with your own Firebase configuration
    };
    firebase.initializeApp(firebaseConfig);

    // Get a reference to the Firestore database
    const db = firebase.firestore();

    // Get a reference to the registration form and message container
    const form = document.querySelector('#registrationForm');
    const messageContainer = document.querySelector('#message');

    // Function to handle the form submission
    function save() {
      // Get user input values
      const name = form.name.value;
      const email = form.email.value;
      const password = form.password.value;

      // Save user details to Firestore
      firebase.auth().createUserWithEmailAndPassword(email, password)
        .then((userCredential) => {
          // Get the newly created user's ID
          const userId = userCredential.user.uid;

          // Store user details in Firestore
          db.collection('users').doc(userId).set({
            name: name,
            email: email
          })
          .then(() => {
            showMessage('success', 'User registered successfully');
            form.reset();
          })
          .catch((error) => {
            showMessage('error', 'Error saving user details: ' + error.message);
          });
        })
        .catch((error) => {
          showMessage('error', 'Error creating user: ' + error.message);
        });
    }

    // Function to display success or error message
    function showMessage(type, text) {
      messageContainer.innerHTML = text;
      messageContainer.style.display = 'block';

      if (type === 'success') {
        messageContainer.classList.add('alert-success');
      } else if (type === 'error') {
        messageContainer.classList.add('alert-danger');
      }
    }
  </script>
</body>
</html>
